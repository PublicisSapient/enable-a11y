var InputMask=function(e){e&&e.masked&&(e.masked=typeof e.masked==="string"?document.querySelectorAll(e.masked):e.masked),e?this.options={masked:e.masked||document.querySelectorAll(this.defaults.masked),maskedNumber:e.maskedNumber||this.defaults.maskedNumber,maskedLetter:e.maskedLetter||this.defaults.maskedLetter,error:e.onError||this.defaults.onError}:(this.options=this.defaults,this.options.masked=document.querySelectorAll(this.options.masked)),this.refresh(!0)},inputMask={defaults:{masked:".masked",maskedNumber:"XdDmMyY9",maskedLetter:"_",noValidate:"",onError:function(){}},refresh:function(e){var t,a;for(e||(this.options.masked=document.querySelectorAll(this.options.masked)),i=0;i<this.options.masked.length;i++)t=this.options.masked[i],a=t.parentNode.getAttribute("class"),(!a||a&&-1===a.indexOf("shell"))&&(this.createShell(t),this.options.noValidate&&this.noValidateSetup(t),this.activateMasking(t))},noValidate:function(e){this.getForm(e).setAttribute("noValidate",!0)},getForm:function(e){return"string"==typeof e.form?this.closestForm(e):e.form},closestForm:function(e){for(var t=e.parentNode;t.parentNode;t=t.parentNode)if("form"===t.tagName.toUpperCase())return t;return document.body},createShell:function(e){var t=document.createElement("span"),a=document.createElement("span"),r=document.createElement("i"),s=e.getAttribute("class"),n=e.getAttribute("placeholder"),i=document.createTextNode(n);e.setAttribute("maxlength",i.length),e.setAttribute("data-placeholder",n),e.removeAttribute("placeholder"),(!s||s&&-1===s.indexOf("masked"))&&e.setAttribute("class",s+" masked"),a.setAttribute("aria-hidden","true"),a.setAttribute("id",e.getAttribute("id")+"Mask"),a.appendChild(r),a.appendChild(i),t.setAttribute("class","shell"),t.appendChild(a),e.parentNode.insertBefore(t,e),t.appendChild(e)},setValueOfMask:function(e){var t=e.target.value,a=e.target.getAttribute("data-placeholder");return"<i>"+t+"</i>"+a.substr(t.length)},activateMasking:function(e){var t=this;e.addEventListener?e.addEventListener("keyup",function(e){t.handleValueChange.call(t,e)},!1):e.attachEvent&&e.attachEvent("onkeyup",function(e){e.target=e.srcElement,t.handleValueChange.call(t,e)})},handleValueChange:function(e){var t=e.target.getAttribute("id");e.target.value!=document.querySelector("#"+t+"Mask i").innerHTML&&(document.getElementById(t).value=this.handleCurrentValue(e),document.getElementById(t+"Mask").innerHTML=this.setValueOfMask(e))},handleCurrentValue:function(e){var t,a,r,s,n,i=e.target.getAttribute("data-charset"),o=i||e.target.getAttribute("data-placeholder"),d=e.target.value,u=o.length,l="";for(n=i?d.replace(/\W/g,""):d.replace(/\D/g,""),t=0,a=0;u>t;t++){if(r=!isNaN(parseInt(n[a])),s=n[a]?n[a].match(/[A-Z]/i):!1,matchesNumber=this.options.maskedNumber.indexOf(o[t])>=0,matchesLetter=this.options.maskedLetter.indexOf(o[t])>=0,matchesNumber&&r||i&&matchesLetter&&s)l+=n[a++];else{if(!i&&!r&&matchesNumber||i&&(matchesLetter&&!s||matchesNumber&&!r))return l;l+=o[t]}if(void 0==n[a])break}return e.target.getAttribute("data-valid-example")?this.validateProgress(e,l):l},validateProgress:function(e,t){var a=e.target.getAttribute("data-valid-example"),r=new RegExp(e.target.getAttribute("pattern")),s=e.target.getAttribute("data-placeholder"),n=t.length,o="";if(1==n&&"MM"==s.toUpperCase().substr(0,2))return t>1&&10>t&&(t="0"+t),t;for(i=n;i>=0;i--){if(o=t+a.substr(t.length),r.test(o))return t;t=t.substr(0,t.length-1)}return t}};for(var property in inputMask)inputMask.hasOwnProperty(property)&&(InputMask.prototype[property]=inputMask[property]);!function(){var e=document.getElementsByTagName("script"),t=e[e.length-1];t.getAttribute("data-autoinit")&&new InputMask}();