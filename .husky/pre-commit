#!/usr/bin/env sh

. "$(dirname "$0")/_/husky.sh"

# Check if NODE_ENV is set to production
if [ "$NODE_ENV" = "production" || "$CI" = "true"]; then
  echo "Skipping pre-commit hook in production environment"
  exit 0
fi

# If you have issues when running the npx command in an IDE, you should try running the command in the terminal instead. This issue is due to the PATH values not being set as expected in the IDE in order for npx to be recognized. See https://stackoverflow.com/questions/67115897/vscode-github-desktop-pre-commit-hook-npx-command-not-found for more information.
# npm run test-all
npx lint-staged